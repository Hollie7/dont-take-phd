@tailwind base;
@tailwind components;
@tailwind utilities;

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: #ffffff;
  color: #37352f;
}

/* Notion 风格的文字淡入淡出 */
@keyframes textFadeFall {
  0% {
    top: -5%;
    opacity: 0;
    transform: translateY(-20px);
  }
  10% {
    opacity: 0.15;
  }
  90% {
    opacity: 0.15;
  }
  100% {
    top: 105%;
    opacity: 0;
    transform: translateY(20px);
  }
}

.text-fade-fall {
  animation: textFadeFall 15s ease-in-out infinite;
}

/* 柔和的进度条动画 */
@keyframes progressDrain {
  0% {
    width: 100%;
  }
  100% {
    width: 15%;
  }
}

.progress-drain {
  animation: progressDrain 12s ease-in-out infinite;
}

/* 西西弗斯动画 - 保留但简化 */
.sisyphus-journey {
  position: absolute;
  animation: pushUpHill 8s cubic-bezier(0.25, 0.1, 0.25, 1) infinite;
}

@keyframes pushUpHill {
  0% {
    left: 50px;
    bottom: 20px;
  }
  45% {
    left: 350px;
    bottom: 180px;
  }
  50% {
    left: 350px;
    bottom: 180px;
  }
  55% {
    left: 350px;
    bottom: 180px;
    opacity: 1;
  }
  60% {
    opacity: 0;
  }
  100% {
    opacity: 0;
  }
}

.sisyphus-rock {
  position: absolute;
  left: -40px;
  bottom: 0;
  animation: rockRotate 8s linear infinite;
}

@keyframes rockRotate {
  0% {
    transform: rotate(0deg);
  }
  45% {
    transform: rotate(720deg);
  }
  100% {
    transform: rotate(720deg);
  }
}

.sisyphus-person {
  position: absolute;
  left: -60px;
  bottom: 0;
}

.arm-push {
  animation: armPush 0.5s ease-in-out infinite;
}

@keyframes armPush {
  0%, 100% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(2px);
  }
}

.leg-left, .leg-right {
  animation: legWalk 0.6s ease-in-out infinite;
}

.leg-left {
  animation-delay: 0s;
}

.leg-right {
  animation-delay: 0.3s;
}

@keyframes legWalk {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-2px);
  }
}

.rock-rolling {
  position: absolute;
  opacity: 0;
  animation: rollDown 3s ease-in infinite;
  animation-delay: 4s;
}

@keyframes rollDown {
  0% {
    left: 350px;
    bottom: 180px;
    opacity: 0;
    transform: rotate(0deg);
  }
  5% {
    opacity: 1;
  }
  100% {
    left: 50px;
    bottom: 20px;
    opacity: 1;
    transform: rotate(-1080deg);
  }
}

.person-return {
  position: absolute;
  opacity: 0;
  animation: walkBack 3s ease-out infinite;
  animation-delay: 4.5s;
}

@keyframes walkBack {
  0% {
    left: 350px;
    bottom: 180px;
    opacity: 0;
    transform: scaleX(-1);
  }
  5% {
    opacity: 1;
  }
  100% {
    left: 50px;
    bottom: 20px;
    opacity: 1;
    transform: scaleX(-1);
  }
}

/* 书塔动画 - 保留 */
@keyframes stackBookMessy {
  0% {
    opacity: 0;
    transform: translateY(-100px) scale(0.8) rotate(var(--initial-rotation, 0deg));
  }
  15% {
    opacity: 1;
    transform: translateY(-20px) scale(1.1) rotate(calc(var(--initial-rotation, 0deg) * 1.5));
  }
  25% {
    transform: translateY(5px) scale(0.95) rotate(calc(var(--initial-rotation, 0deg) * 0.8));
  }
  35% {
    transform: translateY(0) scale(1) rotate(var(--initial-rotation, 0deg));
  }
  55% {
    transform: translateY(0) scale(1) rotate(var(--initial-rotation, 0deg));
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1) rotate(var(--initial-rotation, 0deg));
  }
}

.book-stack-messy {
  animation: stackBookMessy 14s ease-out forwards;
  opacity: 0;
}

@keyframes towerWobble {
  0%, 10% {
    transform: rotate(0deg);
  }
  12% {
    transform: rotate(-1deg);
  }
  14% {
    transform: rotate(1.5deg);
  }
  16% {
    transform: rotate(-2deg);
  }
  18% {
    transform: rotate(2deg);
  }
  20% {
    transform: rotate(-1.5deg);
  }
  22% {
    transform: rotate(1deg);
  }
  24% {
    transform: rotate(-0.5deg);
  }
  26%, 100% {
    transform: rotate(0deg);
  }
}

.tower-wobble {
  transform-origin: bottom center;
  animation: towerWobble 14s ease-in-out forwards;
}

@keyframes bookFallMessy {
  0% {
    opacity: 0;
    transform: translate(0, 0) rotate(0deg) scale(1);
  }
  2% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translate(var(--fall-x, 0), 400px) rotate(var(--fall-rotation, 360deg)) scale(0.6);
  }
}

.book-fall-messy {
  animation: bookFallMessy 4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  opacity: 0;
}

@keyframes dustRise {
  0% {
    opacity: 0;
    transform: translateY(0) scale(0.5);
  }
  20% {
    opacity: 0.8;
  }
  100% {
    opacity: 0;
    transform: translateY(-60px) scale(1.5);
  }
}

.dust-particle {
  position: absolute;
  bottom: 0;
  animation: dustRise 1.5s ease-out forwards;
  opacity: 0;
}

/* 自定义滚动条 - Notion 风格 */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.15);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.25);
}

/* 选中文本样式 */
::selection {
  background: rgba(0, 0, 0, 0.08);
  color: inherit;
}

/* 平滑过渡 */
* {
  transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}

button, a {
  transition: all 0.2s ease;
}